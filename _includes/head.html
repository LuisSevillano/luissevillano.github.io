<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script>

try {
  if (localStorage.getItem('theme') === 'light') {
    document.documentElement.classList.add('lightmode');
  }
} catch(e){}
</script>
<style>
html {
  background-color: #181818;
  color: #eee;
}
body {
  background-color: #181818;
  color: #eee;
}
html.lightmode {
  background-color: #fff;
  color: #222;
}
html.lightmode body {
  background-color: #fff;
  color: #222;
}

#darkmode-toggle-head {
  position: fixed !important;
  top: 1rem !important;
  right: 1rem !important;
  background: none !important;
  border: none !important;
  z-index: 9999 !important;
  padding: 0.2rem !important;
  border-radius: 50% !important;
  cursor: pointer !important;
  opacity: 0.75 !important;
  transition: opacity 0.2s !important;
}
#darkmode-toggle-head:hover {
  opacity: 1 !important;
  background: rgba(0,0,0,0.04) !important;
}
html.lightmode #darkmode-toggle-head:hover {
  background: rgba(255,255,255,0.04) !important;
}
#darkmode-icon-head {
  width: 28px !important;
  height: 28px !important;
  display: block !important;
  pointer-events: none !important;
}
</style>
<title>
  {% if page.title -%}
    {{- page.title }} â€“ {{ site.title }}
  {% else -%}
    {{- site.title -}}
  {%- endif %}
</title>
<button id="darkmode-toggle-head" aria-label="Alternar modo oscuro/claro">
  <img id="darkmode-icon-head" src="/assets/darkmode-toggle-dark.svg" alt="Alternar modo oscuro" />
</button>
<script>
(function() {

  function init() {
    var button = document.getElementById('darkmode-toggle-head');
    var icon = document.getElementById('darkmode-icon-head');

    if (!button || !icon) {
      setTimeout(init, 10);
      return;
    }

    function updateIcon() {
      var isLight = document.documentElement.classList.contains('lightmode');
      icon.src = isLight ? '/assets/darkmode-toggle.svg' : '/assets/darkmode-toggle-dark.svg';
    }

    updateIcon();

    button.onclick = function(e) {
      e.preventDefault();
      e.stopPropagation();
      var isLight = document.documentElement.classList.toggle('lightmode');
      localStorage.setItem('theme', isLight ? 'light' : 'dark');
      updateIcon();
    };
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>

<script>
(function () {
  if (!('IntersectionObserver' in window)) return;
  function loadVideo(video) {
    if (video.dataset.lazyLoaded) return;
    video.querySelectorAll('source[data-src]').forEach(source => {
      source.src = source.dataset.src;
    });
    video.load();
    video.dataset.lazyLoaded = 'true';
  }
  const observer = new IntersectionObserver((entries, obs) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        loadVideo(entry.target);
        obs.unobserve(entry.target);
      }
    });
  }, {
    rootMargin: '200px',
    threshold: 0.01,
  });
  document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('video[data-lazy-video]').forEach(video => {
      observer.observe(video);
    });
  });
})();
</script>


<meta
  name="description"
  content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ baseurl.description }}{% endif %}"
>
<link
  rel="icon"
  href="
    {{ "/favicon.ico" | prepend: baseurl.site |
    prepend: baseurl.url }}
  "
>
<link
  rel="apple-touch-icon"
  href="
    {{
    "/assets/apple-touch-icon-180x180.png" | prepend: baseurl.site | prepend:
    baseurl.url }}
  "
>
<link
  rel="stylesheet"
  href="
    {{ "/assets/core.css" | prepend:
    baseurl.site | prepend: baseurl.url }}
  "
>
<link
  rel="canonical"
  href="{{ page.url | prepend: baseurl.site | prepend: baseurl.url }}"
>
<link
  rel="alternate"
  type="application/atom+xml"
  title="{{ baseurl.title }}"
  href="{{ "/feed.xml" | prepend: baseurl.site | prepend: baseurl.url }}"
>
{% if baseurl.mathjax %}
{% endif %}
{% seo %}
{% if page.image %}
  <meta name="twitter:image" content="{{ site.url }}{{ page.image }}">
{% else %}
  <meta itemprop="image" content="{{ site.logo}}">
  <meta property="og:image" content="{{ site.logo}}">
  <meta name="twitter:image" content="{{ site.logo}}">
{% endif %}
